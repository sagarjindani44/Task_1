<p-tabView>
    <p-tabPanel header="General">
        <div class="formContainer">
            <form [formGroup]="userForm" (ngSubmit)="addUser()">

                <h3>General Info</h3>


                <div class="field">

                    <label for="name" class="block">Name*</label>
                    <input type="text" pInputText placeholder="FullName" formControlName="name">
                    <small class="p-error block" *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.dirty">
                        Name
                        is required</small>
                </div>

                <div class="field">
                    <label for="companyType" class="block">companyType</label>
                    <input type="text" pInputText placeholder="" formControlName="companyType">

                </div>

                <div class="field">
                    <label for="phnNum" class="block">Phone*</label>
                    <p-inputNumber formControlName="phnNum" [maxlength]="10" [useGrouping]="false">
                    </p-inputNumber>

                    <small class="p-error block"
                        *ngIf="userForm.get('phnNum')?.invalid && userForm.get('phnNum')?.dirty">
                        Number is required</small>

                </div>

                <div class="field">
                    <label for="email" class="block">Email*</label>
                    <input type="text" pInputText placeholder="" formControlName="email">
                    <small class="p-error block" *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.dirty">
                        Email is required and only email format allowed</small>
                </div>




                <h3>Address</h3>

                <button pButton label="Add New" (click)="addAddress()"></button>

                <div formArrayName="address">
                    <div *ngFor="let address of getAddress(userForm); let i =index">
                        <div [formGroupName]="i">

                            
                                    <h3>Address {{i+1}}</h3>
                            

                            <div class="field">
                                <label for="address" class="block">Address*</label>
                                <input type="text" pInputText placeholder="" formControlName="address">
                                <small class="p-error block"
                                    *ngIf="userForm.get('address')?.invalid && userForm.get('address')?.dirty">
                                    Address
                                    is
                                    required </small>
                            </div>

                            <div class="field">
                                <label for="option" class="block">Option</label>
                                <input type="text" pInputText placeholder="" formControlName="option">


                                <div class="field">
                                    <label for="postalCode" class="block">PostalCode</label>
                                    <input type="text" pInputText placeholder="" formControlName="postalCode">

                                </div>

                            </div>
                            <button pButton *ngIf="i>0" (click)="removeAddress(i)">Remove Address</button>
                        </div>
                    </div>


                </div>

                <button pButton type="submit" label="Submit" [disabled]="userForm.invalid"></button>

            </form>
        </div>
    </p-tabPanel>
    <p-tabPanel header="Contacts">
        <p>
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
            Nemo enim
            ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos
            qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi.
        </p>
    </p-tabPanel>
    <p-tabPanel header="Notes">
        <p>
            At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti
            atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique
            sunt in culpa
            qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et
            expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus.
        </p>
    </p-tabPanel>
</p-tabView>